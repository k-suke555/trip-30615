# README

# 個人制作アプリ TriPlanning
## アプリの概要
  お昼から夕方までの予定を１セットとして、
  立てた予定を投稿することで共有できたり、その地域の新しい過ごし方を発見するアプリ

## アプリのURL
https://trip-30615.herokuapp.com/

## ユーザー認証
* ユーザー名    admin
* パスワード    2222

## テスト用アカウント
* 投稿者
  メールアドレス  sample@sample.com
  パスワード     123abc
* 閲覧者
  メールアドレス  sample2@sample.com
  パスワード     123abc

## 利用方法
  投稿者用アカウントでログインすることにより、自身で考えた予定を投稿することができます。
  閲覧者用アカウントでログインすることにより、投稿された予定を見て、休日の過ごし方の参考にすることができます。また、コメントや感想を投稿することができます。
  ログイン状態でも投稿された予定は見ることができます。

## アイデア
* 遅く起きた朝からでも間に合うような休日の過ごし方はないか
  長く寝てしまいがちだが有意義に過ごしたい
* 県外に行かずとも近隣で知らないお店を見つけたい
  県外に出るのはなんとなく気が引ける、でも休日はどこかに行きたい
* 県外から友人が来るが、隠れた名店名所好きな友人はどこに案内すべきだろう
  ガイドブックに載っていないようなところも案内したい

* ターゲット（ペルソナ）
  休日は長めに寝る学生〜シニア層
  平日の疲れで休日は長く寝がち、でも有意義に過ごしたい方
  遠くから遊びにきたけど有名どころはほぼ遊び尽くした、隠れた名店名所を探したい方向け

## 要件定義
| 優先順位|機能|目的|詳細|ストーリーユース(ユースケース)| 見積もり(所要時間)|                    
|:---:|:---:|:---:|:---:|:---:|:---|
|3|ユーザー登録機能|ユーザー新規登録、ログイン、ログアウトをできるようにする|新規ユーザー登録からユーザーの登録ができ、ログインとログアウトが可能になる|・ユーザーアカウントの登録方法はニックネームとメールアドレス、パスワードでできるようにする。|6|
|3|計画一覧表機能|計画一覧表機能|計画が投稿されるとトップページに遷移し、投稿された計画が一覧で表示されるようにする|・計画が投稿されていることが前提<br>・投稿された計画がトップページに一覧で表示されるようにする|6|
|3|計画詳細表示機能|投稿された計画の詳細が表示されるようにする|投稿された計画をクリックすると詳細ページに遷移し、詳細が表示されるようにする|・計画が投稿されていることが前提<br>・計画一覧から計画をクリックすると、その計画の詳細ページに遷移し詳細が閲覧できるようにする|8|
|3|計画編集機能|投稿した計画を編集できるようにする|投稿した計画の詳細ページから、投稿者のみ編集できるようにする|・計画が投稿されていることが前提<br>・投稿された計画をクリックし詳細ページに遷移すると、投稿ユーザーにのみ編集ボタンが表示され、そこから編集ができる|6|
|3|計画削除機能|投稿した計画を削除できるようにする|投稿した計画の詳細ページから、投稿者のみ削除できるようにする|・計画が投稿されていることが前提<br>・投稿した計画をクリックし詳細ページに遷移すると、投稿ユーザーのみ削除ボタンが表示され、そこから削除ができる|3|
|3|コメント投稿機能|投稿された計画にコメントが投稿、表示できるようにする|計画詳細ページに遷移するとコメントが閲覧でき、ログイン状態のユーザーのみコメントが投稿できるようにする|・ログインし、計画が投稿されていることが前提<br>・計画の詳細ページに遷移するとコメント一覧とコメント投稿ボタンが表示され、コメントができる|3|
|3|ユーザー詳細表示機能|ユーザーの詳細ページが表示されるようにする|計画やコメントを投稿したユーザーの詳細ページに遷移でき、そのユーザーが投稿した計画の一覧表示ができるようにする|・計画やコメントが投稿されていることが前提<br>・計画やコメントのユーザー名をクリックするとユーザーの詳細ページに遷移でき、そのユーザーが投稿した計画の一覧が表示される|6|
|2|計画検索機能|ユーザーが簡単にデータ検索出来るようにする|キーワードを入力することにより、該当する計画が表示されるようにする|・計画が数個投稿されていることが前提<br>・条件に該当する計画の検索結果のページで表示する|8|
|2|お気に入り機能|投稿をお気に入りに登録することができる|投稿された計画をお気に入り登録することで、ユーザー詳細ページにお気に入りが表示されるようにする|・ユーザー登録をし、他ユーザーによって計画が投稿されていることが前提<br>・投稿詳細ページにお気に入りボタンを押すことにより、自身のユーザー詳細ページにお気に入りに登録した計画が表示される|6|
|2|エラーメッセージ日本語機能|表示されるエラーメッセージが日本語で表示されるようにする|ユーザー登録ページと計画投稿ページにて入力に不備があるとエラーメッセージが日本語で表示されるようにする|・ユーザーを登録、計画を投稿する際、入力に不備があるとエラーメッセージが日本語で表示される|3|

## 実装済み機能
* ユーザー登録機能
  誰でも簡単に登録ができるよう、ニックネームとメールアドレス、パスワードのみで登録ができるようにした
* 計画投稿機能
  写真と必要事項を入力するだけで簡単に昼から午後の予定を投稿できるようにした
* 計画詳細表示機能
  タイトルと写真を大きくしたことで一目でどんな計画かわかりやすくなるようにした
* 計画編集機能
  詳細機能ページから簡単に編集機能へ遷移できるようにした
* 計画削除機能
  計画詳細ページからボタンひとつて投稿が削除できるようにした
* コメント投稿機能
  投稿詳細ページから簡単にコメントが投稿でき、ログインしていないユーザーにはログインしてコメントを残すことを促す文言を加えた
* ユーザー詳細表示機能
  投稿した計画やコメントから簡単にユーザー詳細ページへ遷移ができるようにし、そのユーザーが投稿した計画が一覧で表示されるようにした
* 計画検索機能
  キーワード１つで投稿された計画のタイトルや説明から検索ができるようにした
* お気に入り機能
  投稿された計画をお気に入りに登録することで、ユーザー詳細ページから登録したお気に入り一覧を閲覧することができるようにした
* エラーメッセージ日本語表示機能
  入力された内容に誤りがあった場合、日本語でエラーメッセージが登録されるようにした

## テーブル設計
## usersテーブル

| column               | Type     | Options     |
|--------------------- |--------- |------------ |
| nickname             | string   | null: false |
| email                | string   | null: false |
| password             | string   | null: false |

### Association
- has_many :plans
- has_many :comments

## plans テーブル

| Column                  | Type       | Options                        |
| ----------------------- | ---------- | ------------------------------ |
| title                   | string     | null: false                    |
| area_id                 | integer    | null: false                    |
| lunch_title             | string     | null: false                    |
| lunch_description       | text       | null: false                    |
| lunch-type_id           | integer    | null: false                    |
| lunch_price_id          | integer    | null: false                    |
| afternoon_title         | string     | null: false                    |
| afternoon_description   | text       | null: false                    |
| afternoon_type_id       | integer    | null: false                    |
| afternoon_period_id     | integer    | null: false                    |
| afternoon_price_id      | integer    | null: false                    |
| user                    | references | null: false, foreign_key: true |

### Association
- belongs_to :user
- has_many :comments

## comments テーブル

| Column        | Type       | Options                        |
| ------------  | ---------- | ------------------------------ |
| user          | references | null: false, foreign_key: true |
| plan          | references | null: false, foreign_key: true |
| text          | text       | null: false, foreign_key: true |

### Association
- belongs_to :user
- belongs_to :plan

## favorites テーブル

| Column                  | Type       | Options                        |
| ----------------------- | ---------- | ------------------------------ |
| user_id                 | integer    | null: false                    |
| plan_id                 | integer    | null: false                    |

## 使用言語等
* 言語・フレームワーク
    Ruby2.6.5/Rails~> 6.0.0
* フロント
    HTML/CSS
* テスト
    RSpec/factory_bot
* インフラ
  Amazon S3
* 本番環境
  Heroku
* 使用Gem
  devise
  rubocop
  mini_magick
  image_processing ~> 1.2
  active_hash
  aws-sdk-s3
  factory_bot_rails
